{"version":3,"sources":["webpack:///resources/js/src/app/components/item/SingleItemSetComponent.vue","webpack:///./resources/js/src/app/components/item/SingleItemSetComponent.vue?d0f2","webpack:///./resources/js/src/app/components/item/SingleItemSetComponent.vue","webpack:///./resources/js/src/app/components/item/SingleItemSetComponent.vue?61e5","webpack:///./resources/js/src/app/components/item/SingleItemSetComponent.vue?0718","webpack:///./resources/js/src/app/helper/get.js"],"names":["get","object","path","fieldExp","key","isNullOrUndefined","exec","index","lastIndex","readField","field","match","searchKey","searchValue","Array","prototype","slice","call","find","entry"],"mappings":"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","file":"chunks/ceres-server-45.js","sourcesContent":["<template>\n    <div>\n\n        <slot\n            v-if=\"!isSetLoading && variation || $ceres.isShopBuilder\"\n            :itemId=\"itemId\"\n            :variationId=\"variationId\"\n            :variation=\"variation\"\n            :getDataField=\"getDataField\"\n            :getFilteredDataField=\"getFilteredDataField\">\n        </slot>\n\n        <loading-animation v-else-if=\"isSetLoading\" class=\"prop-3-1\"></loading-animation>\n    </div>\n</template>\n\n<script>\nimport { get } from \"../../helper/get\";\nimport { isNullOrUndefined } from \"../../helper/utils\";\nimport { mapState } from 'vuex'\nexport default {\n    name: \"single-item-set-component\",\n\n    props:\n    {\n        itemId:\n        {\n            type: Number,\n            required: !App.isShopBuilder\n        },\n        initialVariationId: Number,\n        attributes: Array,\n        variations: Array,\n        afterKey: Object\n    },\n\n    provide()\n    {\n        return {\n            itemId: App.isShopBuilder ? this.previewItemId : this.itemId\n        }\n    },\n\n    computed:\n    {\n        variationId()\n        {\n            return this.variation && this.variation.variation.id;\n        },\n\n        ...mapState({\n            variation(state)\n            {\n                const itemModule = state.items[this.itemId];\n\n                this.ready();\n\n                return itemModule && itemModule.variation.documents[0].data;\n            },\n            isSetLoading(state)\n            {\n                return state.items.isSetLoading;\n            },\n            previewItemId : state => state.items.previewItemId\n        })\n    },\n\n    methods:\n    {\n        ready()\n        {\n            this.$store.dispatch(`${this.itemId}/variationSelect/setVariationSelect`, {\n                itemId:             this.itemId,\n                attributes:         this.attributes,\n                variations:         this.variations,\n                initialVariationId: this.initialVariationId,\n                isPleaseSelectOption: true,\n                afterKey:           this.afterKey\n            });\n\n            // function should only be executed once\n            this.ready = () => {};\n        },\n\n        getDataField(field)\n        {\n            return get(this.variation, field);\n        },\n\n        getFilteredDataField(field, filter)\n        {\n            if (!isNullOrUndefined(this.$options.filters[filter]))\n            {\n                return this.$options.filters[filter](this.getDataField(field));\n            }\n\n            return this.getDataField(field);\n        }\n    }\n}\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      (!_vm.isSetLoading && _vm.variation) || _vm.$ceres.isShopBuilder\n        ? _vm._t(\"default\", null, {\n            itemId: _vm.itemId,\n            variationId: _vm.variationId,\n            variation: _vm.variation,\n            getDataField: _vm.getDataField,\n            getFilteredDataField: _vm.getFilteredDataField\n          })\n        : _vm.isSetLoading\n        ? _c(\"loading-animation\", { staticClass: \"prop-3-1\" })\n        : _vm._e()\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./SingleItemSetComponent.vue?vue&type=template&id=014d5eb0&\"\nimport script from \"./SingleItemSetComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./SingleItemSetComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"a712546a\"\n  \n)\n\ncomponent.options.__file = \"resources/js/src/app/components/item/SingleItemSetComponent.vue\"\nexport default component.exports","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingleItemSetComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingleItemSetComponent.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingleItemSetComponent.vue?vue&type=template&id=014d5eb0&\"","import { isNullOrUndefined } from \"./utils\";\n\nexport function get(object, path)\n{\n    const fieldExp = /{\\s*\\S+\\s*,\\s*\\S+\\s*}|\\w+/gm;\n\n    let key;\n\n    while (!isNullOrUndefined(object) && (key = fieldExp.exec(path)) !== null)\n    {\n        if (key.index === fieldExp.lastIndex)\n        {\n            fieldExp.lastIndex++;\n        }\n\n        object = readField(object, key[0]);\n    }\n\n    return object;\n}\n\nfunction readField(object, field)\n{\n    if (isNullOrUndefined(object))\n    {\n        return null;\n    }\n\n    const match = /^{\\s*(\\S+)\\s*,\\s*(\\S+)\\s*}$/.exec(field);\n\n    if (!isNullOrUndefined(match))\n    {\n        const searchKey = match[1];\n        const searchValue = match[2];\n\n        return Array.prototype.slice.call(object).find(entry =>\n        {\n            return (get(entry, searchKey) + \"\") === searchValue;\n        });\n    }\n\n    return object[field];\n}\n"],"sourceRoot":""}