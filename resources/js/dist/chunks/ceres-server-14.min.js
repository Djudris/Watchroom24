exports.ids=[14],exports.modules={260:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{itemscope:"",itemtype:"http://schema.org/Thing"}},[t._ssrNode('<div class="single-carousel owl-carousel owl-theme owl-single-item mt-0">'+t._ssrList(t.singleImages,(function(e){return'<div class="prop-1-1"><a'+t._ssrAttr("href",e.url)+t._ssrAttr("data-lightbox","single-item-image"+t._uid)+"><img"+t._ssrAttr("data-src",e.url)+t._ssrAttr("alt",t.getAltText(e))+t._ssrAttr("title",t.getImageName(e))+' class="owl-lazy"></a></div>'}))+"</div> "),t.showThumbs?t._ssrNode('<div id="thumb-carousel" class="owl-thumbs owl-carousel owl-theme owl-single-item">',"</div>",t._l(t.carouselImages,(function(e,r){return t._ssrNode('<div class="prop-1-1">',"</div>",[t._ssrNode('<div class="image-container">',"</div>",[i("lazy-img",{class:{active:t.currentItem===r},attrs:{"picture-class":"owl-thumb border-appearance","image-url":e.url,alt:t.getAltText(e),title:t.getImageName(e)}})],1)])})),0):t._e()],2)};r._withStripped=!0;i(31),i(22),i(27),i(13),i(29),i(9);var s=i(0),a={props:{maxQuantity:{type:Number,default:10},imageUrlAccessor:{type:String,default:"url"},showThumbs:{type:Boolean,default:!0},showDots:{type:Boolean,default:!0},animationStyle:{type:String,default:"standard"},pluginPath:{type:String,default:""}},inject:{itemId:{default:null}},data:function(){return{currentItem:0}},computed:{currentVariation:function(){return this.$store.getters["".concat(this.itemId,"/currentItemVariation")]},carouselImages:function(){return this.$options.filters.itemImages(this.currentVariation.images,"urlPreview").slice(0,this.maxQuantity)},singleImages:function(){return this.$options.filters.itemImages(this.currentVariation.images,this.imageUrlAccessor).slice(0,this.maxQuantity)}},watch:{currentVariation:{handler:function(t,e){var i=this;t!==e&&setTimeout((function(){i.reInitialize()}),1)},deep:!0}},mounted:function(){var t=this;this.$nextTick((function(){t.loadLightbox().then((function(){t.initCarousel(),t.initThumbCarousel()})).catch((function(t){console.log("error while loading lightbox",t)}))}))},methods:{getImageCount:function(){return this.carouselImages.length>this.maxQuantity?this.maxQuantity:this.carouselImages.length},reInitialize:function(){var t=$(this.$refs.single),e=document.documentElement.scrollTop;t.trigger("destroy.owl.carousel"),t.html(t.find(".owl-stage-outer").html()).removeClass("owl-loaded"),t.find(".owl-item").remove();var i=$(this.$refs.thumbs);i.trigger("destroy.owl.carousel"),i.html(i.find(".owl-stage-outer").html()).removeClass("owl-loaded"),i.find(".owl-item").remove(),this.initCarousel(),this.initThumbCarousel(),document.documentElement.scrollTop=e},initCarousel:function(){var t=this,e=this.getImageCount(),i={autoHeight:!0,dots:this.showDots,items:1,lazyLoad:!0,rewind:!0,margin:10,mouseDrag:e>1,nav:e>1,navClass:["owl-single-item-nav left carousel-control","owl-single-item-nav right carousel-control"],navContainerClass:"",navText:['<i class="owl-single-item-control fa fa-chevron-left" aria-hidden="true"></i>','<i class="owl-single-item-control fa fa-chevron-right" aria-hidden="true"></i>'],smartSpeed:350,onChanged:function(e){$(t.$refs.thumbs).trigger("to.owl.carousel",[e.page.index,350])}};"standard"!==this.animationStyle&&(i.animateOut=this.animationStyle),$(this.$refs.single).owlCarousel(i),Object(s.e)(window.lightbox)||lightbox.option({wrapAround:!0,albumLabel:this.$translate("Ceres::Template.singleItemLightboxImageShown")}),$(this.$refs.single).on("changed.owl.carousel",(function(e){t.currentItem=e.page.index}))},initThumbCarousel:function(){$(this.$refs.thumbs).owlCarousel({autoHeight:!0,dots:!1,items:5,lazyLoad:!0,loop:!1,margin:10,mouseDrag:!1,center:!1,nav:!0,navClass:["owl-single-item-nav left carousel-control","owl-single-item-nav right carousel-control"],navContainerClass:"",navText:['<i class="owl-single-item-control fa fa-chevron-left" aria-hidden="true"></i>','<i class="owl-single-item-control fa fa-chevron-right" aria-hidden="true"></i>'],smartSpeed:350})},goTo:function(t){$(this.$refs.single).trigger("to.owl.carousel",[t,350])},getAltText:function(t){return t&&t.alternate?t.alternate:this.$options.filters.itemName(this.currentVariation)},getImageName:function(t){return t&&t.name?t.name:this.$options.filters.itemName(this.currentVariation)},loadLightbox:function(){var t=this;return new Promise((function(e,i){var r=document.querySelector("script#lightboxscript");if(Object(s.e)(r)){var a=document.createElement("script");a.type="text/javascript",a.id="lightboxscript",a.src="".concat(t.pluginPath,"/js/dist/lightbox.min.js"),a.addEventListener("load",(function(){return e()}),!1),a.addEventListener("error",(function(t){return i(t)}),!1),document.body.appendChild(a)}else e()}))}}},n=i(2),o=Object(n.a)(a,r,[],!1,null,null,"270e6ba3");o.options.__file="resources/js/src/app/components/item/ItemImageCarousel.vue";e.default=o.exports}};
//# sourceMappingURL=ceres-server-14.min.js.map