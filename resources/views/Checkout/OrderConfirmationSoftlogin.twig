{% extends originalTemplate %}
{% import "Ceres::PageDesign.Macros.LayoutContainer" as LayoutContainer %}

{% block PartialHead %}
    {% embed getPartial('page-metadata') %}
        {% if category is not defined %}
            {# Use page title from multiligualism if no category is linked to be used as order confirmation #}
            {% block title trans("Ceres::Template.orderConfirmation") %}
        {% endif %}
    {% endembed %}
{% endblock %}

{% block PageBody %}
    {% set hasShopBuilderContent = false %}
    {% if category is defined %}
        {% set shopBuilderTemplate = shop_builder_category_template(category.id, "softlogin") %}
        {% if shopBuilderTemplate | trim is not empty %}
            {% set hasShopBuilderContent = true %}
            <div class="page-content verify-order container-max mt-3">
                <div class="row">
                    <div class="col-12">
                        {{ shopBuilderTemplate | raw }}
                    </div>
                </div>
            </div>
        {% endif %}
    {% endif %}

    {% if not hasShopBuilderContent %}
        {# No category defined to be used as order confirmation #}
        {% set overrideConfirmationSoftlogin = LayoutContainer.show("Ceres::OrderConfirmationSoftLogin.Override") %}
        {% if overrideConfirmationSoftlogin | trim is empty %}
            {{ confirmation_softlogin() | raw }}
        {% else %}
            {{ overrideConfirmationSoftlogin }}
        {% endif %}
    {% endif %}
{% endblock %}
